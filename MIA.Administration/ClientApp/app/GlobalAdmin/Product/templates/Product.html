<div>
    <div id="bold">
        {{'Product' | translate}}
    </div>
    <h1 class="text-center">
        <kbd style="background-color: #494b74c4;">
            {{selectedManufacture.name}} :
            {{selectedManufacture.code}}
        </kbd>
    </h1>
    <div style="margin-bottom:10px" ng-show="user.permessionModules['Product'].includes(9)">
        <button style="border: #494b74 solid 1px;background-color: transparent;color: #494b74;border-radius: 6px;"
            ng-disabled="selectedManufacture.manufactureId==0" ng-click="$state.go('newProduct');"
            class="btn pmd-ripple-effect btn-primary pmd-z-depth" type="button">{{'AddNew' | translate}}</button>
        <div class="error" ng-show="selectedManufacture.manufactureId==0">
            {{'selectedManufacture' | translate}}</div>

    </div>
    <div class="pmd-card pmd-z-depth pmd-card-custom-view">
        <div class="table-responsive">
            <div class=" md-card pmd-z-depth pmd-card-custom-view">
                <form class="ProductForm" name="ProductForm">
                    <div class=" md-card pmd-z-depth pmd-card-custom-view">
                        <div>
                            <div class="col-xs-6  form-group pmd-textfield pmd-textfield-floating-label-completed"
                                id="pmd-textfield">
                                <input required type="text" class="mat-input form-control" name="searchInput"
                                    placeholder="{{'searchbyProductName' | translate}}"
                                    ng-model="Products.description[selectedLanguage]" id="searchInput">
                            </div>
                            <!-- <div ng-messages="ProductForm.searchInput.$error">
                                <div class="error"
                                    ng-show="(ProductForm.searchInput.$error.minlength || ProductForm.searchInput.$error.maxlength) && !ProductForm.searchInput.$error.required">
                                    {{'NameLengthError255' | translate}}</div>
                            </div> -->
                            <div class="col-xs-3  form-group pmd-textfield pmd-textfield-floating-label-completed"
                                id="pmd-textfield-verse">
                                <button id="searchBtb" ng-disabled="ProductForm.$invalid"
                                    class="btn pmd-ripple-effect btn-primary" type="button"
                                    ng-click="ProductCtrl.filterProduct(Products.description[selectedLanguage])">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                        width="15px" height="14px" viewBox="0 0 24 24" version="1.1"
                                        class="kt-svg-icon">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect id="bound" x="0" y="0" width="15px" height="15px" />
                                            <path
                                                d="M14.2928932,16.7071068 C13.9023689,16.3165825 13.9023689,15.6834175 14.2928932,15.2928932 C14.6834175,14.9023689 15.3165825,14.9023689 15.7071068,15.2928932 L19.7071068,19.2928932 C20.0976311,19.6834175 20.0976311,20.3165825 19.7071068,20.7071068 C19.3165825,21.0976311 18.6834175,21.0976311 18.2928932,20.7071068 L14.2928932,16.7071068 Z"
                                                id="Path-2" fill="#383a53" fill-rule="nonzero" opacity="0.3" />
                                            <path
                                                d="M11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 Z M11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 C14.8659932,4 18,7.13400675 18,11 C18,14.8659932 14.8659932,18 11,18 Z"
                                                id="Path" fill="#383a53" fill-rule="nonzero" />
                                        </g>
                                    </svg>
                                    {{'search' | translate}}
                                </button>
                            </div>
                            <div class="col-sm-3 form-group pmd-textfield pmd-textfield-floating-label-completed">
                                <button class="btn pmd-ripple-effect btn-primary " type="button" id="searchBtb"
                                    ng-click="ProductCtrl.filterProduct()">{{'All' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div ng-if="Products.results.length == 0">
        <span>{{'NoProductAvailable' | translate}}</span>
    </div>
    <div class="pmd-card pmd-z-depth pmd-card-custom-view" ng-if="Products.results.length > 0">
        <div class="table-responsive">
            <table class="table pmd-table table-hover">
                <thead>
                    <tr>
                        <th>{{'image' | translate}}</th>
                        <th>{{'codeLbl' | translate}}</th>
                        <th>{{'ManufactureLbl' | translate}}</th>
                        <th>{{'Name' | translate}}</th>
                        <th>{{'CategoryLbl' | translate}}</th>
                        <th>{{'StatusLbl' | translate}}</th>
                        <th>{{'ProductDetails' | translate}}</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="Product in Products.results">
                        <td>
                            <img style="width: 70px;height: 70px;"
                                data-ng-src="{{ProductCtrl.appCONSTANTS.Image_URL_ORDER}}{{Product.image}}" />
                        </td>
                        <td style="width: 10px">{{Product.code}}</td>
                        <td style="width: 10px">{{Product.mCode}}</td>
                        <td data-title="Name">
                            <span title="{{Product.description[selectedLanguage]}}">
                                {{Product.description[selectedLanguage] | limitTo : 20}}
                                {{Product.description[selectedLanguage].length > 20 ? '...' : ''}}</span>
                        </td>
                        <td data-title="Name">
                            {{Product.category.titles[selectedLanguage]}}
                        </td>

                        <td ng-show="!Product.isActive">
                            <div ng-if="user.permessionModules['Product'].includes(12)==true">
                                <div class="btn-switch" ng-class="{'btn-switch--on':Product.isActive}"
                                    ng-model="Product.isActive" ng-click="ProductCtrl.ChangeStatus(Product)">

                                    <div class="btn-switch-circle" ng-class="{'btn-switch-circle--on':Product.isActive}"
                                        ng-model="Product.isActive" ng-click="ProductCtrl.ChangeStatus(Product)">
                                    </div>
                                </div>
                            </div>
                            <div ng-if="user.permessionModules['Product'].includes(12)==false"
                                title="You don't have permssion">
                                <div class="btn-switch" ng-class="{'btn-switch--on':Product.isActive}"
                                    ng-model="Product.isActive">

                                    <div class="btn-switch-circle" ng-class="{'btn-switch-circle--on':Product.isActive}"
                                        ng-model="Product.isActive">
                                    </div>
                                </div>

                        </td>
                        <td ng-show="Product.isActive">
                            <div class="btn-switch" ng-class="{'btn-switch--on':Product.isActive}"
                                ng-model="Product.isActive">

                                <div class="btn-switch-circle" ng-class="{'btn-switch-circle--on':Product.isActive}"
                                    ng-model="Product.isActive">
                                </div>
                        </td>

                        <td>
                            <button
                                style="border: #494b74 solid 1px;background-color: transparent;color: #494b74;border-radius: 6px;"
                                ng-click="$state.go('ProductDetails',{produdctId : Product.productId});"
                                class="btn pmd-ripple-effect btn-primary pmd-z-depth"
                                type="button">{{'ProductDetails' | translate}}</button>
                        </td>

                        <td>
                            {{Product.hasProductDetails}}
                        </td>
                        <td style="width: 15%">
                            <i ng-show="user.permessionModules['Product'].includes(10)"
                                class="material-icons md-dark pmd-md cursorPointer font25"
                                ng-click="$state.go('editProduct',{id: Product.productId});" title="Edit">mode_edit</i>
                            <i ng-show="user.permessionModules['Product'].includes(11)"
                                class="material-icons pmd-md deleteButton cursorPointer font25"
                                ng-click="ProductCtrl.openDeleteDialog(Product,Product.description[selectedLanguage],Product.productId)"
                                title="Delete">delete</i>
                        </td>

                    </tr>

                </tbody>
            </table>
        </div>
    </div>
    <div style="text-align:center;direction: ltr" paging page="1" page-size="10" total="totalCount"
        paging-action="changePage(page)" flex="nogrow" show-prev-next="true" show-first-last="true" hide-if-empty="true"
        disabled-class="hide">
    </div>
</div>